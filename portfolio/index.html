<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic|Source+Code+Pro:400,700" type="text/css"> <link rel=stylesheet  href="/css/font-awesome.min.css"> <link rel=stylesheet  href="/css/celeste.min.css"> <link rel=apple-touch-icon  sizes=180x180  href="/apple-touch-icon.png"> <link rel=icon  type="image/png" sizes=32x32  href="/favicon-32x32.png"> <link rel=icon  type="image/png" sizes=16x16  href="/favicon-16x16.png"> <link rel=manifest  href="/site.webmanifest"> <title>Data Science Portfolio</title> <header> <nav class=nav-main > <ul> <li class=hvr-underline-reveal ><a href="/">ABOUT</a> <li class=hvr-underline-reveal ><a href="/research/">RESEARCH</a> <li class=logo ><a class=hvr-ripple-out  href="/">JR</a> <li class=hvr-underline-reveal ><a href="/teaching/">TEACHING</a> <li class=hvr-underline-reveal ><a href="/portfolio/">PORTFOLIO</a> </ul> </nav> </header> <div class=franklin-content > <h2 id=web_scraping ><a href="#web_scraping" class=header-anchor >WEB SCRAPING</a></h2> <h4 id=22_august_2023 ><a href="#22_august_2023" class=header-anchor >22 AUGUST 2023</a></h4> <div align=justify > In this project, we scrape data from the beer section of the <a href = "https://www.boozy.ph">Boozy</a> website using the Beautiful Soup library in Python. Specifically, for each product in the said section, we extract the following: <ul> <li> Name <li> Price <li> Star Rating <li> Number of Reviews </ul> </div> <div align=justify > A screenshot of the first page in the beer section of the website is shown below. </div> <div align=center > <br> <img src="/assets/BeerRow.png" align=top  width="90%"> <br> </div> <div align=justify > The program for data scraping is shown in the Python file named <a href = "/assets/scraper.py">scraper</a>. In this implementation, we construct a Pandas dataframe where names are stored as string, prices and ratings as floating point numbers, and number of reviews as integers. In the following figure, we see the first five observations. Prices are in Philippines pesos while ratings are on an integer scale of 1 to 5 where 1 is the lowest and 5 is the highest. </div> <br> <table> <tr> <th>Name <th>Price <th>Rating <th>No. of Reviews <tr> <td>Engkanto Mango Nation - Hazy IPA 330mL Bottle ... <td>543.0 <td>5.0 <td>2 <tr> <td>Engkanto High Hive - Honey Ale 330mL Bottle 4-... <td>407.0 <td>4.0 <td>5.0 <tr> <td>Engkanto Green Lava - Double IPA 330mL Bottle ... <td>594.0 <td>5.0 <td>1 <tr> <td>Engkanto Live It Up! Lager 330mL Bottle 4-Pack <td>407.0 <td>5.0 <td>1 <tr> <td>Engkanto Paint Me Purple - Ube Lager 330mL Bot... <td>543.0 <td>5 <td>1 </table> <div align=justify > As a web scraping project, we focused less on producing data mainly used for data analysis. However, we can provide some information about the products. We start by considering the prices. The cheapest beer products priced at 60 pesos are the 330 mL bottled and the 330mL canned versions of Tiger Crystal. On the other hand, the most expensive beer product is the Stella Artois 330mL Bottle Bundle of 24 priced at 3576 pesos. Next, we consider the ratings. The five beer products with the highest number of reviews are shown in the following table. The number of reviews is also indicated in the table. </div> <br> <table> <tr> <th>Name <th>Reviews <tr> <td>Heineken 330mL 6-Pack <td>99 <tr> <td>Crazy Carabao Variety Pack #1 <td>42 <tr> <td>Hoegaarden Rosee 750mL <td>41 <tr> <td>San Miguel Pale Pilsen 330mL Can 6-Pack <td>33 <tr> <td>Crazy Carabao IPA 330mL Bottle 6-Pack <td>31 </table> <div align=justify > Now, we consider the star ratings. There are 77 products with a star rating of 5. We can filter this data further by including the number of reviews. The four highest-rated beer products with at least 5 reviews are presented in the following table, including their rating and number of reviews. </div> <br> <table> <tr> <th>Name <th>Rating <th>Reviews <tr> <td>Pilsner Urquell 330mL Bottle Pack of 6 <td>5.0 <td>12 <tr> <td>Sapporo 330mL Bundle of 6 <td>5.0 <td>12 <tr> <td>Stella Artois 330mL Bottle Bundle of 6 <td>5.0 <td>11 <tr> <td>Paulaner Weissbier Dunkel 500mL Bottle <td>5.0 <td>11 </table> <div align=justify > Moreover, the four lowest-rated beer products are shown in the following table. </div> <br> <table> <tr> <th>Name <th>Rating <th>Reviews <tr> <td>Rochefort 8 330mL <td>3.0 <td>1 <tr> <td>Royal Dutch Ultra Strong 14% 500mL <td>3.5 <td>2 <tr> <td>Tiger Crystal 330mL Can <td>3.8 <td>5 <tr> <td>Paulaner Weissbier Party Keg 5L <td>3.8 <td>5 </table> <h2 id=ab_testing_and_hypothesis_testing ><a href="#ab_testing_and_hypothesis_testing" class=header-anchor >A/B Testing &#40;and Hypothesis Testing&#41;</a></h2> <h4 id=28_august_2023 ><a href="#28_august_2023" class=header-anchor >28 August 2023 </a></h4> <div align = "justify"> In this project, we conduct an A/B test using the <a href = "https://www.kaggle.com/datasets/sergylog/ab-test-useraggregated-results">Kaggle</a> data. We will use common statistical procedures outlined in the <a href = "https://vkteam.medium.com/practitioners-guide-to-statistical-tests-ed2d580ef04f#1e3b">Medium</a> article by the VK Team. Moreover, we will implement the test in Python. </div> <br> <div align = "justify"> First, we download the data saved in a CSV file and read the file using the pandas library. The data consists of the user ID, the number of views, the number of clicks, and the group where each user belongs from eighty-thousand (80,000) users. Please refer to the following table below to see the first five (5) observations. Note that the values in the column associated to the user ID are distinct. Hence, we can drop the column from the dataframe. </div> <br> <table> <tr> <th>user_id <th>group <th>views <th>clicks <tr> <td>1 <td>control <td>3.0 <td>0.0 <tr> <td>2 <td>control <td>1.0 <td>0.0 <tr> <td>3 <td>control <td>3.0 <td>1.0 <tr> <td>4 <td>control <td>5.0 <td>0.0 <tr> <td>5 <td>control <td>2.0 <td>0.0 </table> <br> <div align = "justify"> Then, we inspect for missing values and inconsistent data types in each column. Using the info function from pandas, there are no null values present. The number of views and clicks are stored as 64-bit double-precision values, which expends memory storage. The minimum value for both columns is 0, while the maximum values are 21 and 206 for clicks and views, respectively. Hence, to free some memory, we convert each number of clicks as an 8-bit signed integer and each number of views as a 16-bit signed integer. We can also store each group label as a categorical data. </div> <br> <div align = "justify"> We formulate a null and an alternative hypotheses for this statistical test. We choose the null hypothesis stating that "there is no significant difference between the groups" and the alternative hypothesis stating otherwise. </div> <br> <div align = "justify"> To estimate the smallest sample size needed for this experiment, we choose a significance level of 0.05, a statistical power of 0.8, an allocation ratio of 1, and a minimum detectable effect of 2%. For a two sample t-test concerned on the number of clicks, the smallest sample size needed is four thousand seven hundred twenty-one (4721). </div> <br> <div align = "justify"> To start with the hypothesis test, we check whether the assumptions of a t-test are satisfied or not. We can determine if the samples are normally distributed by looking at their histograms or quantile-quantile (Q-Q) plots. The following figures show the histogram for the number of clicks by the control group and the Q-Q plot for the number of clicks by the treatment group. </div> <div class=row > <div class=column > <img src="/assets/histogram.png" alt=Histogram  style="width:100%"> </div> <div class=column > <img src="/assets/qqplot.png" alt="Q-Q Plot" style="width:100%"> </div> </div> <div align = "justify"> Now, we need to define a key metric to monitor for each group. We can compare the conversion rate defined by </div> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>C</mi><mo>=</mo><mfrac><mrow><munder><mo>∑</mo><mrow><mi>g</mi><mo>∈</mo><mi>G</mi></mrow></munder><msub><mi>c</mi><mi>g</mi></msub></mrow><mrow><munder><mo>∑</mo><mrow><mi>g</mi><mo>∈</mo><mi>G</mi></mrow></munder><msub><mi>v</mi><mi>g</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">C = \dfrac{\sum_{g \in G} c_g}{\sum_{g \in G} v_g}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:2.6976em;vertical-align:-1.1218em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.5758em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mop ><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.1786em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">G</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.4358em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.8258em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mop ><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.1786em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">G</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.4358em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord ><span class="mord mathnormal">c</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.1218em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span> <p>where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span> denotes the group &#40;control or treatment&#41;, and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">c_g</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7167em;vertical-align:-0.2861em;"></span><span class=mord ><span class="mord mathnormal">c</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> is the number of clicks and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">v_g</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7167em;vertical-align:-0.2861em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> is the number of views for user <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>∈</mo><mi>G</mi></mrow><annotation encoding="application/x-tex">g \in G</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span>.</p> <div class=page-foot > <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Septimia Zenobia. Last modified: September 08, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div>